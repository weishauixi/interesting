<!--pages/home/home.wxml-->
<view class="home-page">
  <!-- 英雄区域 -->
  <view class="hero">
    <view class="hero-decoration">🐴</view>
    <view class="hero-title-container">
      <text class="hero-title">🎊 马年新春祝福 🎊</text>
      <view class="title-gold-decoration">✨</view>
    </view>
    <text class="hero-subtitle">🧧 龙马精神迎新春，马到成功行大运 🧧</text>
    <view class="festive-divider">
      <text class="divider-icon">💰</text>
      <view class="divider-line"></view>
      <text class="divider-text">新年快乐</text>
      <view class="divider-line"></view>
      <text class="divider-icon">💰</text>
    </view>

    <!-- 统计数据 -->
    <view class="stats" wx:if="{{stats}}">
      <view class="stat-item">
        <text class="stat-number">{{stats.greetingsCount}}</text>
        <text class="stat-label">已发送祝福</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item">
        <text class="stat-number">{{stats.photosCount}}</text>
        <text class="stat-label">年夜饭照片</text>
      </view>
    </view>
  </view>

  <!-- 特色功能介绍 -->
  <view class="features-section">
    <text class="section-title">✨ 马年特色功能</text>

    <view class="features-grid">
      <view class="feature-card" bindtap="goToGreeting">
        <view class="feature-icon">🎨</view>
        <text class="feature-title">精美祝福卡片</text>
        <text class="feature-desc">选择马年主题模板，生成专属祝福卡片</text>
      </view>

      <view class="feature-card" bindtap="goToGallery">
        <view class="feature-icon">🖼️</view>
        <text class="feature-title">年夜饭照片墙</text>
        <text class="feature-desc">浏览年夜饭照片，分享节日美食</text>
      </view>

      <view class="feature-card" bindtap="goToUpload">
        <view class="feature-icon">📸</view>
        <text class="feature-title">上传年夜饭</text>
        <text class="feature-desc">上传年夜饭照片，与大家分享团圆时刻</text>
      </view>
    </view>
  </view>

  <!-- 祝福预览 -->
  <view class="greetings-section">
    <text class="section-title">💝 最新祝福</text>

    <view wx:if="{{loading}}" class="loading">加载中...</view>

    <view wx:elif="{{greetings.length > 0}}" class="greetings-list">
      <view
        wx:for="{{greetings}}"
        wx:key="id"
        class="greeting-card"
      >
        <view class="greeting-header">
          <text class="greeting-sender">{{item.senderName}}</text>
          <text class="greeting-time">{{item.timeAgo}}</text>
        </view>
        <view class="greeting-message">{{item.message}}</view>
        <view class="greeting-footer">
          <text class="greeting-recipient">致 {{item.recipientName}}</text>
        </view>
      </view>
    </view>

    <view wx:else class="empty-state">
      <text>还没有祝福，快来发送第一条吧！</text>
    </view>
  </view>

  <!-- 装饰元素 -->
  <view class="floating-lanterns">
    <text class="lantern">🏮</text>
    <text class="lantern">🏮</text>
    <text class="lantern">🏮</text>
  </view>
</view>
